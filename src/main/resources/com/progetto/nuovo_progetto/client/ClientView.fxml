<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<HBox xmlns:fx="http://javafx.com/fxml" fx:controller="com.progetto.nuovo_progetto.client.controller.ClientController" spacing="10">

    <!-- Sezione di sinistra: Email TableView -->
    <VBox spacing="10" HBox.hgrow="ALWAYS">
        <!-- Toolbar con il pulsante Compose -->
        <HBox spacing="10">
            <Button text="Compose" onAction="#handleCompose"/>
        </HBox>

        <!-- Tabella con le email -->
        <TableView fx:id="emailTableView" VBox.vgrow="ALWAYS" onMouseClicked="#handleViewEmail">
            <columns>
                <TableColumn fx:id="senderColumn" text="From"/>
                <TableColumn fx:id="subjectColumn" text="Subject"/>
                <TableColumn fx:id="dateColumn" text="Date"/>
            </columns>
        </TableView>
    </VBox>

    <!-- Sezione di destra: Visualizzazione email o Composizione email con larghezza fissa -->
    <VBox fx:id="rightSection" spacing="10" prefWidth="300">
        <!-- Sezione di visualizzazione email -->
        <VBox fx:id="viewSection" spacing="10" visible="false">
            <Label fx:id="fromLabel"/>
            <Label fx:id="toLabel"/>
            <Label fx:id="subjectLabel"/>
            <Label fx:id="dateLabel"/>
            <TextArea fx:id="bodyArea" editable="false" wrapText="true" VBox.vgrow="ALWAYS"/>
        </VBox>

        <!-- Sezione di composizione email -->
        <VBox fx:id="composeSection" spacing="10" visible="false">
            <TextField fx:id="toField" promptText="To"/>
            <TextField fx:id="subjectField" promptText="Subject"/>
            <TextArea fx:id="composeBodyArea" promptText="Write your email here..." prefHeight="200"/>
            <HBox spacing="10">
                <Button text="Send" onAction="#handleSend"/>
                <Button text="Cancel" onAction="#handleCancel"/>
            </HBox>
        </VBox>
    </VBox>

</HBox>
